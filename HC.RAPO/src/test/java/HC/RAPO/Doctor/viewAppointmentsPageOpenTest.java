package HC.RAPO.Doctor;

import java.io.IOException;

import org.testng.annotations.Listeners;
import org.testng.annotations.Parameters;
import org.testng.annotations.Test;

import com.aventstack.extentreports.Status;

import HC.RAPO.POM.DoctorModule.doctorHomePage;
import HC.RAPO.POM.DoctorModule.doctorLoginPage;
import HC.RAPO.POM.WelcomePage.welcomePage;
import genericUtility.BaseClass;
import genericUtility.UtilityClassObject;
import genericUtility.propertyFileUtility;

@Listeners(genericUtility.ListenerImplementClass.class)
public class viewAppointmentsPageOpenTest extends BaseClass{

	@Parameters("BROWSER")
	@Test(groups = "smoke")
	public void doctorCanSeeAppointmentsPageTest() throws IOException {
		welcomePage wp = new welcomePage(driver);
		propertyFileUtility putil = new propertyFileUtility();
		doctorLoginPage dlp = new doctorLoginPage(driver);
		doctorHomePage dhp = new doctorHomePage(driver);
		
		String DOCTOR_USERNAME = putil.toReadDataFromPropertyFile("doctorUserName");
		String DOCTOR_PASSWORD = putil.toReadDataFromPropertyFile("doctorPassword");
		
		UtilityClassObject.getTest().log(Status.PASS,"Application opened");
		wp.toScrollDownToLoginAsDoctor(driver);
		UtilityClassObject.getTest().log(Status.PASS,"Doctor login page opened");
		dlp.loginAsDoctor(DOCTOR_USERNAME, DOCTOR_PASSWORD);
		UtilityClassObject.getTest().log(Status.PASS,"Successfully logged in as doctor");
		dhp.getAppointmentHistoryLink().click();
		UtilityClassObject.getTest().log(Status.PASS,"Appointment history page opened");
		dhp.logoutAsDoctor();
		UtilityClassObject.getTest().log(Status.INFO, "Successfully logged out as Admin");
	}
}
